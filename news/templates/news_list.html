<!-- news/templates/news/post_list.html -->

{% extends 'base.html' %}

{% block title %}Latest News{% endblock %}

{% block content %}

<div class="container">
    <div class="row">
        {% for post in posts %}
        <div class="p-5 col-lg-10 col-md-12 mx-auto content-container">
            <div class="row">
                <div class="col-lg-9 col-md-12">
                    <h3><a href="{% url 'news_details' post.id %}">{{ post.title }}</a></h3>
                </div>
                <div class="col-lg-3 col-md-12 flex-end">
                    <div class="profile-image-div">
                        <img src="{{ post.author.profile.avatar.url }}" class="profile-image"
                            alt="author's face">
                    </div>
                    <div class="auth-div">
                        <h5 class="auth">{{ post.author.username }}</h5>
                        <p class="auth-tag">{{ post.pub_date }}</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="content">
                    <p>
                        {{ post.content | safe }}
                    </p><!-- Post content and image -->
                </div>
            </div>
            <div class="row post-footer">
                <div class="col-8 category-btn">
                    <span class="{{ post.category.name }}-span">{{ post.category.name }}</span>
                </div>

                <div class="col-4 social-btn">
                    <a href="{% url 'news_details' post.id %}">
                        <span class="comment-count">{{ post.comments.count }}</span>
                        <i class="fa-solid fa-comment comment-icon"></i>
                    </a>
                    <span class="vote-count">{{ post.votes }}</span>
                    <i class="fa-solid fa-heart vote-icon" data-post-id="{{ post.id }}"></i>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}


